---
title: "C4 Models"
---

This section contains the [C4 Models](https://c4model.com/) for ON LiMiT
data infrastructure. Even though the C4 model is primarily used for
software architecture, we use it here to describe the data
infrastructure and its components. We will use the first two levels of
the C4 model, the Context and Container diagrams, to describe the data
infrastructure and its components.

## Context

ON LiMiT is a research project that collects data from various sources,
including biological samples, questionnaires, and other electronic data.
The data is collected from participants in the study, healthcare
professionals, and bioanalysts. The data is stored on GenomeDKs servers
and will be made available for researchers to analyze. The following
diagram shows the context of ON LiMiT, including the main users and data
providers.

![C4 Context diagram showing a basic overview of ON LiMiT, its
anticipated users, and data providers.](/images/c4_context.png)

::: content-hidden
```{mermaid}
%%| label: fig-c4-context
%%| fig-cap: "C4 Context diagram showing a basic overview of ON LiMiT, its anticipated users, and data providers."
flowchart TD
Bioanalyst@{shape: stadium, label: "<b>Bioanalyst</b><br><i>[person]</i><br> working with the analysis of physical samples."}
Healthprof@{shape: stadium, label: "<b>Healthcare professional</b><br><i>[person]</i><br> working with the participants in the study."}
Participant@{shape: stadium, label: "<b>Participant</b><br><i>[person]</i><br> participating in the study."}
Datamanager@{shape: stadium, label: "<b>Data Manager</b><br><i>[person]</i><br> working with retrieval and storage of data generated by patients or healthcare professionals."}
Researcher@{shape: stadium, label: "<b>Researcher</b><br><i>[person]</i><br> interested in doing additional analysis of existing data."}

onlimit@{shape: proc, label: "<b>ON LiMiT</b><br><i>[system]</i><br><br>the ON LiMiT system will be comprised of a number of entities, the main parts will be REDCap and GenomeDK. REDCap will receive most of the raw data, and GenomeDK is the HPC servers where the cleaned and catalogued data will be stored. "}
DS@{shape: proc, label: "<b>Denmark Statistics</b><br><i>[system]</i><br>Closed analysis tool where data from ON LiMiT can be uploaded."}
DP@{ shape: procs, label: "<b>Data Collectors</b><br><i>[systems]</i><br>Monsenso, MyFood24,<br>Food preferences app,<br>SENS, Libre CGM,<br>Clinic: biological samples."}

onlimit:::system
DP:::external
DS:::external
Bioanalyst --> DP
Healthprof --> DP
Participant --> DP
Datamanager --> DP
DP --> onlimit
Researcher --> onlimit
onlimit --> DS
Researcher --> DS

classDef system stroke-width:4pt
classDef external fill:lightgrey
```
:::

## Container

The Container diagram shows the main components of the ON LiMiT data
infrastructure, including data sources, storage, and analysis tools. It
provides an overview of how the data is collected, stored, and made
available for analysis.

![C4 Container diagram showing the main components of ON LiMiT data
infrastructure, including data sources, storage, and analysis](/images/c4_container.png)

::: content-hidden
```{mermaid}
%%| label: fig-c4-container
%%| fig-cap: "C4 Container diagram showing the main components of ON LiMiT data infrastructure, including data sources, storage, and analysis tools."
flowchart TD
Data@{shape: doc, label: "<b>Data</b><br><i>[Software system]</i><br> all electronic data generated by staff and participants using various tools."}
Samples@{shape: stadium, label: "<b>Biological samples</b><br><i>[objects]</i><br> collected from study participants and stored on ice."}
Redcap@{shape: cyl, label: "<b>REDCap</b><br><i>[database]</i><br> database mainly used for collecting data from staff about participants."}
Biobank@{shape: proc, label: "<b>Biobank</b><br><i>[facility]</i><br> storage-facility for biological samples."}
Sprout@{shape: proc, label: "<b>Seedcase Sprout</b><br><i>[software]</i><br> software package which will aid in documenting and storage of data."}
Genome@{shape: lin-cyl, label: "<b>GenomeDK</b><br><i>[system]</i><br><br> HPC facility where the processed data will be stored. "}
Analysis@{shape: proc, label: "<b>Analysis Area on GenomeDK</b><br><i>[system]</i><br> facility via GenomeDK where data can be made available for researchers."}
DS@{shape: proc, label: "<b>Denmark Statistics</b><br><i>[system]</i><br> closed analysis tool where data from ON LiMiT can be uploaded."}
Flower@{shape: proc, label: "<b>Seedcase Flower</b><br><i>[software]</i><br> software package which will aid with creating an overview of the ON LiMiT dataset, making it easier for others to find."}
Website@{ shape: div-rect, label: "<b>Website</b><br><i>[systems]</i><br> website where the data dictionary for ON LiMiT data is shown to users."}
Researcher@{shape: stadium, label: "<b>Researcher</b><br><i>[person]</i><br> interested in doing additional analysis of existing data."}

subgraph i1 [<b>ON LiMiT environment</b>]
    Redcap --> Sprout
    Biobank ~~~ Sprout
    subgraph i2 [ ]
        Sprout --> Genome
        Genome --> Flower
        Genome -.-> Analysis
    end
    Genome --> DS
    Flower --> Website
end

Data:::external --> Sprout
Data --> Redcap
i1:::system
i2:::hidden
Samples:::external --> Redcap
Samples --> Biobank
Researcher:::external
Researcher --> DS
Researcher --> Analysis
Researcher --> Website

classDef system fill:none
classDef external fill:lightgrey
classDef hidden fill:none, stroke-width:0
```
:::
